import{r as re,e as se}from"./vendor-C8lAA81b.js";var Q={exports:{}};(function(X,ie){(function(V,q){X.exports=q(re)})(typeof self<"u"?self:se,function(V){return function(){var q={155:function(e){e.exports=V}},Y={};function S(e){var t=Y[e];if(t!==void 0)return t.exports;var r=Y[e]={exports:{}};return q[e](r,r.exports,S),r.exports}S.d=function(e,t){for(var r in t)S.o(t,r)&&!S.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},S.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},S.r=function(e){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var $={};S.r($),S.d($,{useReactToPrint:function(){return oe}});var Z=S(155);const _="printWindow";function h({level:e="error",messages:t,suppressErrors:r=!1}){r||(e==="error"?console.error(t):e==="warning"?console.warn(t):console.debug(t))}function z(e,t){if(t||!e){const r=document.getElementById(_);r&&document.body.removeChild(r)}}function I(e){return e instanceof Error?e:new Error("Unknown Error")}function U(e,t){const{documentTitle:r,onAfterPrint:c,onPrintError:m,preserveAfterPrint:g,print:E,suppressErrors:b}=t;setTimeout(()=>{var d,f;if(e.contentWindow){let C=function(){c==null||c(),z(g)};if(e.contentWindow.focus(),E)E(e).then(C).catch(y=>{m?m("print",I(y)):h({messages:["An error was thrown by the specified `print` function"],suppressErrors:b})});else{if(e.contentWindow.print){const y=(f=(d=e.contentDocument)===null||d===void 0?void 0:d.title)!==null&&f!==void 0?f:"",A=e.ownerDocument.title;r&&(e.ownerDocument.title=r,e.contentDocument&&(e.contentDocument.title=r)),e.contentWindow.print(),r&&(e.ownerDocument.title=A,e.contentDocument&&(e.contentDocument.title=y))}else h({messages:["Printing for this browser is not currently possible: the browser does not have a `print` method available for iframes."],suppressErrors:b});[/Android/i,/webOS/i,/iPhone/i,/iPad/i,/iPod/i,/BlackBerry/i,/Windows Phone/i].some(y=>{var A,W;return((W=(A=navigator.userAgent)!==null&&A!==void 0?A:navigator.vendor)!==null&&W!==void 0?W:"opera"in window&&window.opera).match(y)})?setTimeout(C,500):C()}}else h({messages:["Printing failed because the `contentWindow` of the print iframe did not load. This is possibly an error with `react-to-print`. Please file an issue: https://github.com/MatthewHerbst/react-to-print/issues/"],suppressErrors:b})},500)}function J(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,null);let c=r.nextNode();for(;c;)t.push(c),c=r.nextNode();return t}function K(e,t,r){const c=J(e),m=J(t);if(c.length===m.length)for(let g=0;g<c.length;g++){const E=c[g],b=m[g],d=E.shadowRoot;if(d!==null){const f=b.attachShadow({mode:d.mode});f.innerHTML=d.innerHTML,K(d,f,r)}}else h({messages:["When cloning shadow root content, source and target elements have different size. `onBeforePrint` likely resolved too early.",e,t],suppressErrors:r})}const ee=`
    @page {
        /* Remove browser default header (title) and footer (url) */
        margin: 0;
    }
    @media print {
        body {
            /* Tell browsers to print background colors */
            color-adjust: exact; /* Firefox. This is an older version of "print-color-adjust" */
            print-color-adjust: exact; /* Firefox/Safari */
            -webkit-print-color-adjust: exact; /* Chrome/Safari/Edge/Opera */
        }
    }
`;function te(e,t,r,c){var m,g,E,b,d;const{contentNode:f,clonedContentNode:C,clonedImgNodes:y,clonedVideoNodes:A,numResourcesToLoad:W,originalCanvasNodes:j}=r,{bodyClass:B,fonts:H,ignoreGlobalStyles:M,pageStyle:N,nonce:T,suppressErrors:D,copyShadowRoots:G}=c;e.onload=null;const n=(m=e.contentDocument)!==null&&m!==void 0?m:(g=e.contentWindow)===null||g===void 0?void 0:g.document;if(n){const a=n.body.appendChild(C);G&&K(f,a,!!D),H&&(!((E=e.contentDocument)===null||E===void 0)&&E.fonts&&(!((b=e.contentWindow)===null||b===void 0)&&b.FontFace)?H.forEach(s=>{const o=new FontFace(s.family,s.source,{weight:s.weight,style:s.style});e.contentDocument.fonts.add(o),o.loaded.then(()=>{t(o)}).catch(u=>{t(o,["Failed loading the font:",o,"Load error:",I(u)])})}):(H.forEach(s=>{t(s)}),h({messages:['"react-to-print" is not able to load custom fonts because the browser does not support the FontFace API but will continue attempting to print the page'],suppressErrors:D})));const F=N??ee,P=n.createElement("style");T&&(P.setAttribute("nonce",T),n.head.setAttribute("nonce",T)),P.appendChild(n.createTextNode(F)),n.head.appendChild(P),B&&n.body.classList.add(...B.split(" "));const L=n.querySelectorAll("canvas");for(let s=0;s<j.length;++s){const o=j[s],u=L[s];if(u===void 0){h({messages:["A canvas element could not be copied for printing, has it loaded? `onBeforePrint` likely resolved too early.",o],suppressErrors:D});continue}const i=u.getContext("2d");i&&i.drawImage(o,0,0)}for(let s=0;s<y.length;s++){const o=y[s],u=o.getAttribute("src");if(u){const i=new Image;i.onload=()=>{t(o)},i.onerror=(l,p,x,w,k)=>{t(o,["Error loading <img>",o,"Error",k])},i.src=u}else t(o,['Found an <img> tag with an empty "src" attribute. This prevents pre-loading it.',o])}for(let s=0;s<A.length;s++){const o=A[s];o.preload="auto";const u=o.getAttribute("poster");if(u){const i=new Image;i.onload=()=>{t(o)},i.onerror=(l,p,x,w,k)=>{t(o,["Error loading video poster",u,"for video",o,"Error:",k])},i.src=u}else o.readyState>=2?t(o):o.src?(o.onloadeddata=()=>{t(o)},o.onerror=(i,l,p,x,w)=>{t(o,["Error loading video",o,"Error",w])},o.onstalled=()=>{t(o,["Loading video stalled, skipping",o])}):t(o,["Error loading video, `src` is empty",o])}const O="select",v=f.querySelectorAll(O),R=n.querySelectorAll(O);for(let s=0;s<v.length;s++)R[s].value=v[s].value;if(!M){const s=document.querySelectorAll("style, link[rel~='stylesheet'], link[as='style']");for(let o=0,u=s.length;o<u;++o){const i=s[o];if(i.tagName.toLowerCase()==="style"){const l=n.createElement(i.tagName),p=i.sheet;if(p){let x="";try{const w=p.cssRules.length;for(let k=0;k<w;++k)typeof p.cssRules[k].cssText=="string"&&(x+=`${p.cssRules[k].cssText}\r
`)}catch(w){h({messages:["A stylesheet could not be accessed. This is likely due to the stylesheet having cross-origin imports, and many browsers block script access to cross-origin stylesheets. See https://github.com/MatthewHerbst/react-to-print/issues/429 for details. You may be able to load the sheet by both marking the stylesheet with the cross `crossorigin` attribute, and setting the `Access-Control-Allow-Origin` header on the server serving the stylesheet. Alternatively, host the stylesheet on your domain to avoid this issue entirely.",i,`Original error: ${I(w).message}`],level:"warning"})}l.setAttribute("id",`react-to-print-${o}`),T&&l.setAttribute("nonce",T),l.appendChild(n.createTextNode(x)),n.head.appendChild(l)}}else if(i.getAttribute("href"))if(i.hasAttribute("disabled"))h({messages:["`react-to-print` encountered a <link> tag with a `disabled` attribute and will ignore it. Note that the `disabled` attribute is deprecated, and some browsers ignore it. You should stop using it. https://developer.mozilla.org/en-US/docs/Web/HTML/Element/link#attr-disabled. The <link> is:",i],level:"warning"}),t(i);else{const l=n.createElement(i.tagName);for(let p=0,x=i.attributes.length;p<x;++p){const w=i.attributes[p];w&&l.setAttribute(w.nodeName,(d=w.nodeValue)!==null&&d!==void 0?d:"")}l.onload=()=>{t(l)},l.onerror=(p,x,w,k,ne)=>{t(l,["Failed to load",l,"Error:",ne])},T&&l.setAttribute("nonce",T),n.head.appendChild(l)}else h({messages:["`react-to-print` encountered a <link> tag with an empty `href` attribute. In addition to being invalid HTML, this can cause problems in many browsers, and so the <link> was not loaded. The <link> is:",i],level:"warning"}),t(i)}}}W===0&&U(e,c)}function oe({bodyClass:e,contentRef:t,copyShadowRoots:r,documentTitle:c,fonts:m,ignoreGlobalStyles:g,nonce:E,onAfterPrint:b,onBeforePrint:d,onPrintError:f,pageStyle:C,preserveAfterPrint:y,print:A,printIframeProps:W,suppressErrors:j}){return(0,Z.useCallback)(H=>{function M(){const N={bodyClass:e,contentRef:t,copyShadowRoots:r,documentTitle:c,fonts:m,ignoreGlobalStyles:g,nonce:E,onAfterPrint:b,onPrintError:f,pageStyle:C,preserveAfterPrint:y,print:A,suppressErrors:j},T=function(n){const a=document.createElement("iframe");return a.width=`${document.documentElement.clientWidth}px`,a.height=`${document.documentElement.clientHeight}px`,a.style.position="absolute",a.style.top=`-${document.documentElement.clientHeight+100}px`,a.style.left=`-${document.documentElement.clientWidth+100}px`,a.id=_,a.srcdoc="<!DOCTYPE html>",n&&(n.allow&&(a.allow=n.allow),n.referrerPolicy!==void 0&&(a.referrerPolicy=n.referrerPolicy),n.sandbox!==void 0&&(a.sandbox=n.sandbox)),a}(W),D=function(n,a){const{contentRef:F,fonts:P,ignoreGlobalStyles:L,suppressErrors:O}=a,v=function({contentRef:l,optionalContent:p,suppressErrors:x}){return p&&typeof p=="function"?(l&&h({level:"warning",messages:['"react-to-print" received a `contentRef` option and an optional-content param passed to its callback. The `contentRef` option will be ignored.']}),p()):l?l.current:void h({messages:['"react-to-print" did not receive a `contentRef` option or a optional-content param pass to its callback.'],suppressErrors:x})}({contentRef:F,optionalContent:n,suppressErrors:O});if(!v)return;const R=v.cloneNode(!0),s=document.querySelectorAll("link[rel~='stylesheet'], link[as='style']"),o=R.querySelectorAll("img"),u=R.querySelectorAll("video"),i=P?P.length:0;return{contentNode:v,clonedContentNode:R,clonedImgNodes:o,clonedVideoNodes:u,numResourcesToLoad:(L?0:s.length)+o.length+u.length+i,originalCanvasNodes:v.querySelectorAll("canvas")}}(H,N);if(!D)return void h({messages:["There is nothing to print"],suppressErrors:j});const G=function(n,a,F){const{suppressErrors:P}=n,L=[],O=[];return function(v,R){L.includes(v)?h({level:"debug",messages:["Tried to mark a resource that has already been handled",v],suppressErrors:P}):(R?(h({messages:['"react-to-print" was unable to load a resource but will continue attempting to print the page',...R],suppressErrors:P}),O.push(v)):L.push(v),L.length+O.length===a&&U(F,n))}}(N,D.numResourcesToLoad,T);(function(n,a,F,P){n.onload=()=>{te(n,a,F,P)},document.body.appendChild(n)})(T,G,D,N)}z(y,!0),d?d().then(()=>{M()}).catch(N=>{f==null||f("onBeforePrint",I(N))}):M()},[e,t,r,c,m,g,E,b,d,f,C,y,A,j])}return $}()})})(Q);var ae=Q.exports;export{ae as l};
