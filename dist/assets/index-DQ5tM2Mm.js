import{j as e,R as m,a as d}from"./index-JBMyroTg.js";import{u as g,r as u}from"./vendor-C8lAA81b.js";import{C as p,T as x,F as t,d as r,B as f,s as o}from"./antd-7IfSoTVm.js";import{R as h}from"./LockOutlined-BwF944pO.js";const{Title:y,Text:j}=x,S=()=>{const n=g(),[i,a]=u.useState(!1),l=async c=>{a(!0);try{const s=await d.post("/api/login",c);s.data.success?(o.success("Login successfully!"),localStorage.setItem("isLoggedIn","true"),localStorage.setItem("user",JSON.stringify(s.data.user)),n("/dashboard")):o.error(s.data.message||"Login failed")}catch(s){console.error("Login Error:",s)}finally{a(!1)}};return e.jsx("div",{style:{height:"100vh",display:"flex",justifyContent:"center",alignItems:"center",backgroundColor:"#f0f2f5",backgroundImage:'url("https://gw.alipayobjects.com/zos/rmsportal/TVYTbAXWheQpRcWDaDMu.svg")',backgroundRepeat:"no-repeat",backgroundPosition:"center 110px",backgroundSize:"100%"},children:e.jsxs(p,{style:{width:400,boxShadow:"0 4px 12px rgba(0,0,0,0.15)"},variant:"borderless",children:[e.jsxs("div",{style:{textAlign:"center",marginBottom:30},children:[e.jsxs("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",gap:10,marginBottom:10},children:[e.jsx("img",{src:"/assets/logo.png",alt:"Logo",style:{height:40}})," ",e.jsx(y,{level:3,style:{margin:0},children:"ID System"})]}),e.jsx(j,{type:"secondary",children:"Internal Management System"})]}),e.jsxs(t,{name:"login_form",layout:"vertical",onFinish:l,autoComplete:"off",initialValues:{username:"",password:""},children:[e.jsx(t.Item,{name:"username",rules:[{required:!0,message:"Please input your username!"}],children:e.jsx(r,{size:"large",prefix:e.jsx(m,{className:"site-form-item-icon"}),placeholder:"Username"})}),e.jsx(t.Item,{name:"password",rules:[{required:!0,message:"Please input your password!"}],children:e.jsx(r.Password,{size:"large",prefix:e.jsx(h,{className:"site-form-item-icon"}),placeholder:"Password (123456)"})}),e.jsx(t.Item,{children:e.jsx(f,{type:"primary",htmlType:"submit",size:"large",block:!0,loading:i,children:"Sign In"})})]})]})})};export{S as default};
